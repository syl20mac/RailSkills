Modifie le backend RailSkills pour ajouter les endpoints suivants. Le serveur est en production avec PM2 (redémarrage automatique).

## ENDPOINTS À AJOUTER

### 1. GET /api/health
Retourne { status: 'ok', timestamp: new Date().toISOString(), service: 'RailSkills Backend' }

### 2. POST /api/sharepoint/token (OBLIGATOIRE)
Obtient un token Azure AD pour accéder à SharePoint.

Code :

const axios = require('axios');

router.post('/sharepoint/token', async (req, res) => {
  try {
    const tenantId = process.env.AZURE_TENANT_ID;
    const clientId = process.env.AZURE_CLIENT_ID;
    const clientSecret = process.env.AZURE_CLIENT_SECRET;
    
    if (!tenantId || !clientId || !clientSecret) {
      return res.status(500).json({ error: 'Configuration Azure AD manquante' });
    }
    
    const tokenUrl = `https://login.microsoftonline.com/${tenantId}/oauth2/v2.0/token`;
    
    const params = new URLSearchParams();
    params.append('client_id', clientId);
    params.append('client_secret', clientSecret);
    params.append('scope', 'https://graph.microsoft.com/.default');
    params.append('grant_type', 'client_credentials');
    
    const response = await axios.post(tokenUrl, params, {
      headers: { 'Content-Type': 'application/x-www-form-urlencoded' }
    });
    
    console.log('[SharePoint] Token généré');
    
    res.json({
      accessToken: response.data.access_token,
      expiresIn: response.data.expires_in,
      tokenType: response.data.token_type
    });
  } catch (error) {
    console.error('[SharePoint] Erreur:', error.response?.data || error.message);
    res.status(500).json({ error: 'Impossible d\'obtenir le token' });
  }
});

### 3. GET /api/organization/secret
Retourne le secret de chiffrement organisationnel.

Code :

router.get('/organization/secret', (req, res) => {
  res.json({
    secret: process.env.ORGANIZATION_SECRET || 'RailSkills.SNCF.2024',
    organizationName: process.env.ORGANIZATION_NAME || 'SNCF Traction',
    updatedAt: new Date().toISOString()
  });
});

### 4. GET /api/organization
Retourne { name: process.env.ORGANIZATION_NAME || 'SNCF Traction' }

## VARIABLES .env À AJOUTER

AZURE_TENANT_ID=4a7c8238-5799-4b16-9fc6-9ad8fce5a7d9
AZURE_CLIENT_ID=bd394412-97bf-4513-a59f-e023b010dff7
AZURE_CLIENT_SECRET=<METTRE_LE_VRAI_SECRET>
ORGANIZATION_NAME=SNCF Traction
ORGANIZATION_SECRET=<METTRE_UN_SECRET_DE_CHIFFREMENT>

## DÉPENDANCE
Installer axios si pas déjà fait : npm install axios

## IMPORTANT
- Ne pas commiter le .env
- Le serveur redémarre automatiquement avec PM2

